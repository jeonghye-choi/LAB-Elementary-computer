# 📌 모터

- DC 모터

    - 전원이 연결되면 연속으로 회전

    - 정확한 위치 제어 어려움

- 서보 모터

    - 정밀 제어 가능

- 스텝 모터

    - 분할각 단위로만 회전 가능

    - 하나의 펄스가 주어지면 분할각 만큼 회전하고 멈춤

<br><br>

### ✔ 서보 모터

- 0-180도 사이 회전

- PWM신호로 위치 제어

    - 50Hz : 20ms

    - 1ms : 0도 , 2ms : 180도

- 3개 연결선

    - VCC : 붉은색

    - GND : 검정색 갈색

    - PWM출력 가능한 핀 : 노란색, 주황색 또는 흰색


- **"Servo"**라이브러리

- 사용방법

    1. "Servo"라이브러리

    2. 객체 생성 : Servo myServo;

    3. 제어핀 연결 : myServo.attach(servoPin);

    4. 각도 지정 : myServo.write(angle);

- 연결방법

    ![image](https://user-images.githubusercontent.com/54584063/84380258-04589080-ac22-11ea-98ac-a5121c65324d.png)

- LAB

    - 서보모터 제어

        ```c
        #include <Servo.h>

        Servo myServo;
        int servoPin = 11;

        void setup(){
            myServo.attach(servoPin);
        }

        void loop(){
            int angle;
            for(angle=0; angle<180; angle++>){
                myServo.write(angle);
                delay(5);
            }
            for (angle=100; angle>0; angle--){
                myServo.write(angle);
                delay(5);
            }
        }
        ```
    - 가변저항으로 서보 제어

        ```c
        #include <Servo.h>

        Servo myServo;
        int servoPin = 11;

        void setup(){
            myServo.attach(servoPin);
        }

        void loop(){
            int value = analogRead(A0);
            int angle = map(value, 0, 1023, 0, 180);
            myServo.write(angle);
        }
        ```
    - 가변저항값 -> 서보모터 회전 시간 제어

        ```c
        #include <Servo.h>

        Servo myServo;
        int servoPin = 11;

        void setup(){
            myServo.attach(servoPin);
        }

        void loop(){
            time_current = millis();
            if (time_current - time_previous >= interval){
                time_previous = time_current;
                angle += angle_step;
                if (angle > 180){
                    angle = 180;
                    angle_stemp += -1
                }
                else if (angle < 0>){
                    angle =0;
                    angle_step *= -1;
                }
                myServo.write(angle);
            }
            int reading = analogRead(A0);
            int new_interval = map(reading, 0, 1023, 5, 20);
            if (new_interval != interval){
                interval = new_interval;
                Serial.print("Current Interval : ");
                Serial.println(interval);
            }
        }

        ```
    - 시리얼 모니터로 서보 제어

        ```c
        #include <Servo.h>

        Servo myServo;

        void setup(){
            myServo.attach(servoPin)
        }
        void loop(){
            while (Serial.available()){
                char data = Serial.read();
                if (data == '\n'){
                    process_it = true;
                    break;
                }
                buffer += data;
            }
            if (process_it) {
                process_it = false;
                int angle = buffer.toInt();
                Serial.print(String(">> ") + buffer);
                if (angle<0 || angle>180) {
                    Serial.println("...invalid angle.");
                }else {
                    Serial.println();
                    myServo.write(angle);
                    delay(3);
                }
                buffer = "";
            }
        }

        ```


<br><br>

### ✔ DC 모터


### ✔ 연결방법


<br><br>

### ✔ 


<br><br>

### ✔ LAB



<br><br>

### 🔎 정리

- 서보모터

    - 정밀한 위치제어 가능

    - 0-180도 범위만 회전

    - "Servo"라이브러리